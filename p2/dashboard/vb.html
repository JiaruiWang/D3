<!DOCTYPE html>
<meta charset="utf-8">
<style>
body{
    width:1200px;
    margin:50px auto;
}
path {  stroke: #fff; }
path:hover {  opacity:0.9; }
rect:hover {  fill:blue; }
.axis {  font: 10px sans-serif; }
.legend tr{    border-bottom:1px solid grey; }
.legend tr:first-child{    border-top:1px solid grey; }

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {  display: none; }
.legend{
    margin-bottom:76px;
    display:inline-block;
    border-collapse: collapse;
    border-spacing: 0px;
}
.legend td{
    padding:4px 5px;
    vertical-align:bottom;
}
.legendFreq, .legendPerc{
    align:right;
    width:50px;
}

</style>
<body>
<div id='dashboard'>
</div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>
function dashboard(id, fData){
    var barColor = 'steelblue';
    function segColor(c){ return {'BUILDING LEASE PAYMENTS':"#1f77b4", 'COMMUNICATION SERVICE & SUPPLIES':"#aec7e8",'COMPUTER EQUIPMENT':"#ff7f0e", 'DEBT SERVICE':"#ffbb78", 'EQUIPMENT RENTAL & LEASES':"#2ca02c", 'FUEL & UTILITIES':"#98df8a", 'HOUSEKEEP & JANITOR SERVICES':"#d62728", 'MISCELLANEOUS EXPENSES':"#ff9896", 'MOTORIZED EQUIPMENT':"#9467bd", 'OFFICE EQUIPMENT':"#c5b0d5", 'OTHER EQUIPMENT':"#8c564b", 'PROFESSIONAL DEVELOPMENT':"#c49c94", 'PROFESSIONAL SERVICES':"#e377c2", 'PROGRAM DISTRIBUTIONS':"#f7b6d2", 'PROPERTY & IMPROVEMENTS':"#bcbd22",'REPAIR & MAINTENANCE SERVICES':"#dbdb8d", 'SUPPLIES':"#17becf",'TRAVEL':"#9edae5"}[c]; }
    
    // compute total for each state.
    fData.forEach(function(d){d.total=d.freq['BUILDING LEASE PAYMENTS']+d.freq['COMMUNICATION SERVICE & SUPPLIES']+d.freq['COMPUTER EQUIPMENT']+d.freq['DEBT SERVICE']+d.freq['EQUIPMENT RENTAL & LEASES']+d.freq['FUEL & UTILITIES']+d.freq['HOUSEKEEP & JANITOR SERVICES']+d.freq['MISCELLANEOUS EXPENSES']+d.freq['MOTORIZED EQUIPMENT']+d.freq['OFFICE EQUIPMENT']+d.freq['OTHER EQUIPMENT']+d.freq['PROFESSIONAL DEVELOPMENT']+d.freq['PROFESSIONAL SERVICES']+d.freq['PROGRAM DISTRIBUTIONS']+d.freq['PROPERTY & IMPROVEMENTS']+d.freq['REPAIR & MAINTENANCE SERVICES']+d.freq['SUPPLIES']+d.freq['TRAVEL'];});
    
    // function to handle histogram.
    function histoGram(fD){
        var hG={},    hGDim = {t: 60, r: 0, b: 30, l: 0};
        hGDim.w = 500 - hGDim.l - hGDim.r, 
        hGDim.h = 300 - hGDim.t - hGDim.b;
            
        //create svg for histogram.
        var hGsvg = d3.select(id).append("svg")
            .attr("width", hGDim.w + hGDim.l + hGDim.r)
            .attr("height", hGDim.h + hGDim.t + hGDim.b).append("g")
            .attr("transform", "translate(" + hGDim.l + "," + hGDim.t + ")");

        // create function for x-axis mapping.
        var x = d3.scale.ordinal().rangeRoundBands([0, hGDim.w], 0.1)
                .domain(fD.map(function(d) { return d[0]; }));

        // Add x-axis to the histogram svg.
        hGsvg.append("g").attr("class", "x axis")
            .attr("transform", "translate(0," + hGDim.h + ")")
            .call(d3.svg.axis().scale(x).orient("bottom"));

        // Create function for y-axis map.
        var y = d3.scale.linear().range([hGDim.h, 0])
                .domain([0, d3.max(fD, function(d) { return d[1]; })]);

        // Create bars for histogram to contain rectangles and freq labels.
        var bars = hGsvg.selectAll(".bar").data(fD).enter()
                .append("g").attr("class", "bar");
        
        //create the rectangles.
        bars.append("rect")
            .attr("x", function(d) { return x(d[0]); })
            .attr("y", function(d) { return y(d[1]); })
   //         .attr("width", x.rangeBand())
  //          .attr("height", function(d) { return hGDim.h - y(d[1]); })
            .attr('fill',barColor)
            .on("mouseover",mouseover)// mouseover is defined below.
            .on("mouseout",mouseout);// mouseout is defined below.
            
        //Create the frequency labels above the rectangles.
        bars.append("text").text(function(d){ return d3.format(",")(d[1])})
            .attr("x", function(d) { return x(d[0])+x.rangeBand()/2; })
            .attr("y", function(d) { return y(d[1])-5; })
            .attr("text-anchor", "middle");
        
        function mouseover(d){  // utility function to be called on mouseover.
            // filter for selected state.
            var st = fData.filter(function(s){ return s.State == d[0];})[0],
                nD = d3.keys(st.freq).map(function(s){ return {type:s, freq:st.freq[s]};});
               
            // call update functions of pie-chart and legend.    
            pC.update(nD);
            leg.update(nD);
        }
        
        function mouseout(d){    // utility function to be called on mouseout.
            // reset the pie-chart and legend.    
            pC.update(tF);
            leg.update(tF);
        }
        
        // create function to update the bars. This will be used by pie-chart.
        hG.update = function(nD, color){
            // update the domain of the y-axis map to reflect change in frequencies.
            y.domain([0, d3.max(nD, function(d) { return d[1]; })]);
            
            // Attach the new data to the bars.
            var bars = hGsvg.selectAll(".bar").data(nD);
            
            // transition the height and color of rectangles.
            bars.select("rect").transition().duration(500)
                .attr("y", function(d) {return y(d[1]); })
                .attr("height", function(d) { return hGDim.h - y(d[1]); })
                .attr("fill", color);

            // transition the frequency labels location and change value.
            bars.select("text").transition().duration(500)
                .text(function(d){ return d3.format(",")(d[1])})
                .attr("y", function(d) {return y(d[1])-5; });            
        }        
        return hG;
    }
    
    // function to handle pieChart.
    function pieChart(pD){
        var pC ={},    pieDim ={w:250, h: 250};
        pieDim.r = Math.min(pieDim.w, pieDim.h) / 2;
                
        // create svg for pie chart.
        var piesvg = d3.select(id).append("svg")
            .attr("width", pieDim.w).attr("height", pieDim.h).append("g")
            .attr("transform", "translate("+pieDim.w/2+","+pieDim.h/2+")");
        
        // create function to draw the arcs of the pie slices.
        var arc = d3.svg.arc().outerRadius(pieDim.r - 10).innerRadius(0);

        // create a function to compute the pie slice angles.
        var pie = d3.layout.pie().sort(null).value(function(d) { return d.freq; });

        // Draw the pie slices.
        piesvg.selectAll("path").data(pie(pD)).enter().append("path").attr("d", arc)
            .each(function(d) { this._current = d; })
            .style("fill", function(d) { return segColor(d.data.type); })
            .on("mouseover",mouseover).on("mouseout",mouseout);

        // create function to update pie-chart. This will be used by histogram.
        pC.update = function(nD){
            piesvg.selectAll("path").data(pie(nD)).transition().duration(500)
                .attrTween("d", arcTween);
        }        
        // Utility function to be called on mouseover a pie slice.
        function mouseover(d){
            // call the update function of histogram with new data.
            hG.update(fData.map(function(v){ 
                return [v.State,v.freq[d.data.type]];}),segColor(d.data.type));
        }
        //Utility function to be called on mouseout a pie slice.
        function mouseout(d){
            // call the update function of histogram with all data.
            hG.update(fData.map(function(v){
                return [v.State,v.total];}), barColor);
        }
        // Animating the pie-slice requiring a custom function which specifies
        // how the intermediate paths should be drawn.
        function arcTween(a) {
            var i = d3.interpolate(this._current, a);
            this._current = i(0);
            return function(t) { return arc(i(t));    };
        }    
        return pC;
    }
    
    // function to handle legend.
    function legend(lD){
        var leg = {};
            
        // create table for legend.
        var legend = d3.select(id).append("table").attr('class','legend');
        
        // create one row per segment.
        var tr = legend.append("tbody").selectAll("tr").data(lD).enter().append("tr");
            
        // create the first column for each segment.
        tr.append("td").append("svg").attr("width", '16').attr("height", '16').append("rect")
            .attr("width", '16').attr("height", '16')
			.attr("fill",function(d){ return segColor(d.type); });
            
        // create the second column for each segment.
        tr.append("td").text(function(d){ return d.type;});

        // create the third column for each segment.
        tr.append("td").attr("class",'legendFreq')
            .text(function(d){ return d3.format(",")(d.freq.toFixed(2));});

        // create the fourth column for each segment.
        tr.append("td").attr("class",'legendPerc')
            .text(function(d){ return getLegend(d,lD);});

        // Utility function to be used to update the legend.
        leg.update = function(nD){
            // update the data attached to the row elements.
            var l = legend.select("tbody").selectAll("tr").data(nD);

            // update the frequencies.
            l.select(".legendFreq").text(function(d){ return d3.format(",")(d.freq);});

            // update the percentage column.
            l.select(".legendPerc").text(function(d){ return getLegend(d,nD);});        
        }
        
        function getLegend(d,aD){ // Utility function to compute percentage.
            return d3.format("%")(d.freq/d3.sum(aD.map(function(v){ return v.freq; })));
        }

        return leg;
    }
    
    // calculate total frequency by segment for all state.
    var tF = ['BUILDING LEASE PAYMENTS','COMMUNICATION SERVICE & SUPPLIES','COMPUTER EQUIPMENT','DEBT SERVICE', 'EQUIPMENT RENTAL & LEASES', 'FUEL & UTILITIES', 'HOUSEKEEP & JANITOR SERVICES', 'MISCELLANEOUS EXPENSES', 'MOTORIZED EQUIPMENT', 'OFFICE EQUIPMENT', 'OTHER EQUIPMENT', 'PROFESSIONAL DEVELOPMENT', 'PROFESSIONAL SERVICES', 'PROGRAM DISTRIBUTIONS', 'PROPERTY & IMPROVEMENTS','REPAIR & MAINTENANCE SERVICES', 'SUPPLIES','TRAVEL'].map(function(d){ 
        return {type:d, freq: d3.sum(fData.map(function(t){ return Math.round(t.freq[d]);}))}; 
    });    
    
    // calculate total frequency by state for all segment.
    var sF = fData.map(function(d){return [d.State,d.total];});

    var hG = histoGram(sF), // create the histogram.
        pC = pieChart(tF), // create the pie-chart.
        leg= legend(tF);  // create the legend.
}
</script>

<script>
var freqData=[
{State:'AGRICULTURE',freq:{'BUILDING LEASE PAYMENTS':217563.960000, 'COMMUNICATION SERVICE & SUPPLIES':17068.110000, 'COMPUTER EQUIPMENT':23614.160000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':257631.810000, 'FUEL & UTILITIES':40966.490000, 'HOUSEKEEP & JANITOR SERVICES':64232.130000, 'MISCELLANEOUS EXPENSES':550022.000000, 'MOTORIZED EQUIPMENT':284478.920000, 'OFFICE EQUIPMENT':4820.420000, 'OTHER EQUIPMENT':277658.760000, 'PROFESSIONAL DEVELOPMENT':183233.790000, 'PROFESSIONAL SERVICES':2976374.930000, 'PROGRAM DISTRIBUTIONS':22767884.570000, 'PROPERTY & IMPROVEMENTS':54405.040000, 'REPAIR & MAINTENANCE SERVICES':271529.590000, 'SUPPLIES':1688298.270000, 'TRAVEL':605341.470000}},
{State:'CONSERVATION',freq:{'BUILDING LEASE PAYMENTS':496741.330000, 'COMMUNICATION SERVICE & SUPPLIES':342068.690000, 'COMPUTER EQUIPMENT':1672853.910000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':1441131.780000, 'FUEL & UTILITIES':2014601.300000, 'HOUSEKEEP & JANITOR SERVICES':985108.680000, 'MISCELLANEOUS EXPENSES':432547.080000, 'MOTORIZED EQUIPMENT':2063293.580000, 'OFFICE EQUIPMENT':7583.050000, 'OTHER EQUIPMENT':1056840.570000, 'PROFESSIONAL DEVELOPMENT':560281.120000, 'PROFESSIONAL SERVICES':8743139.150000, 'PROGRAM DISTRIBUTIONS':11476325.650000, 'PROPERTY & IMPROVEMENTS':12541406.610000, 'REPAIR & MAINTENANCE SERVICES':2566080.380000, 'SUPPLIES':18167262.800000, 'TRAVEL':1396455.530000}},
{State:'CORRECTIONS',freq:{'BUILDING LEASE PAYMENTS':4804494.820000, 'COMMUNICATION SERVICE & SUPPLIES':382389.170000, 'COMPUTER EQUIPMENT':693327.190000, 'DEBT SERVICE':5746.580000, 'EQUIPMENT RENTAL & LEASES':514213.550000, 'FUEL & UTILITIES':650814.830000, 'HOUSEKEEP & JANITOR SERVICES':1587181.750000, 'MISCELLANEOUS EXPENSES':4470676.330000, 'MOTORIZED EQUIPMENT':175301.360000, 'OFFICE EQUIPMENT':244281.040000, 'OTHER EQUIPMENT':3563826.650000, 'PROFESSIONAL DEVELOPMENT':174296.860000, 'PROFESSIONAL SERVICES':154754421.660000, 'PROGRAM DISTRIBUTIONS':37360559.720000, 'PROPERTY & IMPROVEMENTS':1424183.220000, 'REPAIR & MAINTENANCE SERVICES':1868460.650000, 'SUPPLIES':48947732.190000, 'TRAVEL':1775224.630000}},
{State:'ECONOMIC DEVELOPMENT',freq:{'BUILDING LEASE PAYMENTS':2151945.680000, 'COMMUNICATION SERVICE & SUPPLIES':58617.760000, 'COMPUTER EQUIPMENT':126472.880000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':76462.570000, 'FUEL & UTILITIES':303292.830000, 'HOUSEKEEP & JANITOR SERVICES':93977.290000, 'MISCELLANEOUS EXPENSES':79053.680000, 'MOTORIZED EQUIPMENT':82826.730000, 'OFFICE EQUIPMENT':57313.650000, 'OTHER EQUIPMENT':68399.900000, 'PROFESSIONAL DEVELOPMENT':443165.090000, 'PROFESSIONAL SERVICES':14054457.720000, 'PROGRAM DISTRIBUTIONS':200876849.460000, 'PROPERTY & IMPROVEMENTS':465.000000, 'REPAIR & MAINTENANCE SERVICES':735091.300000, 'SUPPLIES':772132.950000, 'TRAVEL':826020.590000}},
{State:'ELEMENTARY AND SECONDARY EDUCATION',freq:{'BUILDING LEASE PAYMENTS':1941212.660000, 'COMMUNICATION SERVICE & SUPPLIES':114086.560000, 'COMPUTER EQUIPMENT':287300.980000, 'DEBT SERVICE':2538.320000, 'EQUIPMENT RENTAL & LEASES':143447.610000, 'FUEL & UTILITIES':281791.520000, 'HOUSEKEEP & JANITOR SERVICES':220476.240000, 'MISCELLANEOUS EXPENSES':744309.980000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':84842.810000, 'OTHER EQUIPMENT':639865.110000, 'PROFESSIONAL DEVELOPMENT':667272.890000, 'PROFESSIONAL SERVICES':38664872.190000, 'PROGRAM DISTRIBUTIONS':5202630988.970000, 'PROPERTY & IMPROVEMENTS':1452395.170000, 'REPAIR & MAINTENANCE SERVICES':324348.440000, 'SUPPLIES':2511558.390000, 'TRAVEL':1481253.350000}},
{State:'HEALTH AND SENIOR SERVICES',freq:{'BUILDING LEASE PAYMENTS':2961125.690000, 'COMMUNICATION SERVICE & SUPPLIES':132395.820000, 'COMPUTER EQUIPMENT':91849.080000, 'DEBT SERVICE':2954.550000, 'EQUIPMENT RENTAL & LEASES':142550.620000, 'FUEL & UTILITIES':443137.060000, 'HOUSEKEEP & JANITOR SERVICES':257606.790000, 'MISCELLANEOUS EXPENSES':169262.980000, 'MOTORIZED EQUIPMENT':305185.670000, 'OFFICE EQUIPMENT':40071.520000, 'OTHER EQUIPMENT':1368851.860000, 'PROFESSIONAL DEVELOPMENT':400298.640000, 'PROFESSIONAL SERVICES':7920099.950000, 'PROGRAM DISTRIBUTIONS':859373450.290000, 'PROPERTY & IMPROVEMENTS':7260.570000, 'REPAIR & MAINTENANCE SERVICES':661104.200000, 'SUPPLIES':6543313.310000, 'TRAVEL':2510704.740000}},
{State:'HIGHER EDUCATION',freq:{'BUILDING LEASE PAYMENTS':139335.820000, 'COMMUNICATION SERVICE & SUPPLIES':7885.190000, 'COMPUTER EQUIPMENT':211.880000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':990.860000, 'FUEL & UTILITIES':21498.280000, 'HOUSEKEEP & JANITOR SERVICES':9581.620000, 'MISCELLANEOUS EXPENSES':105834.550000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':0, 'OTHER EQUIPMENT':1733.550000, 'PROFESSIONAL DEVELOPMENT':163813.880000, 'PROFESSIONAL SERVICES':7392357.920000, 'PROGRAM DISTRIBUTIONS':1176110081.480000, 'PROPERTY & IMPROVEMENTS':0, 'REPAIR & MAINTENANCE SERVICES':3014.160000, 'SUPPLIES':134387.070000, 'TRAVEL':82296.550000}},
{State:'INSURANCE, FIN INST AND PROF REGISTRATION',freq:{'BUILDING LEASE PAYMENTS':98886.500000, 'COMMUNICATION SERVICE & SUPPLIES':23912.840000, 'COMPUTER EQUIPMENT':0, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':9505.960000, 'FUEL & UTILITIES':4930.500000, 'HOUSEKEEP & JANITOR SERVICES':3274.110000, 'MISCELLANEOUS EXPENSES':80290.650000, 'MOTORIZED EQUIPMENT':47818.550000, 'OFFICE EQUIPMENT':29585.070000, 'OTHER EQUIPMENT':6285.510000, 'PROFESSIONAL DEVELOPMENT':387930.600000, 'PROFESSIONAL SERVICES':1871814.980000, 'PROGRAM DISTRIBUTIONS':1319029.190000, 'PROPERTY & IMPROVEMENTS':29434.160000, 'REPAIR & MAINTENANCE SERVICES':69441.520000, 'SUPPLIES':439163.480000, 'TRAVEL':1299561.580000}},
{State:'JUDICIARY',freq:{'BUILDING LEASE PAYMENTS':3041524.680000, 'COMMUNICATION SERVICE & SUPPLIES':2417464.160000, 'COMPUTER EQUIPMENT':3323554.180000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':42549.190000, 'FUEL & UTILITIES':306022.940000, 'HOUSEKEEP & JANITOR SERVICES':194414.460000, 'MISCELLANEOUS EXPENSES':211502.290000, 'MOTORIZED EQUIPMENT':28948.000000, 'OFFICE EQUIPMENT':196218.940000, 'OTHER EQUIPMENT':41238.880000, 'PROFESSIONAL DEVELOPMENT':437004.570000, 'PROFESSIONAL SERVICES':12970784.090000, 'PROGRAM DISTRIBUTIONS':12033577.650000, 'PROPERTY & IMPROVEMENTS':17305.330000, 'REPAIR & MAINTENANCE SERVICES':4398618.980000, 'SUPPLIES':1597645.900000, 'TRAVEL':2694494.660000}},
{State:'LABOR AND INDUSTRIAL RELATIONS',freq:{'BUILDING LEASE PAYMENTS':281637.390000, 'COMMUNICATION SERVICE & SUPPLIES':19221.330000, 'COMPUTER EQUIPMENT':5253.090000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':43124.020000, 'FUEL & UTILITIES':16808.290000, 'HOUSEKEEP & JANITOR SERVICES':15130.280000, 'MISCELLANEOUS EXPENSES':107610.860000, 'MOTORIZED EQUIPMENT':15801.720000, 'OFFICE EQUIPMENT':37386.720000, 'OTHER EQUIPMENT':50916.450000, 'PROFESSIONAL DEVELOPMENT':107876.880000, 'PROFESSIONAL SERVICES':988405.830000, 'PROGRAM DISTRIBUTIONS':40375325.230000, 'PROPERTY & IMPROVEMENTS':1564478.210000, 'REPAIR & MAINTENANCE SERVICES':131063.690000, 'SUPPLIES':1900855.060000, 'TRAVEL':424665.250000}},
{State:'LEGISLATURE',freq:{'BUILDING LEASE PAYMENTS':51245.320000, 'COMMUNICATION SERVICE & SUPPLIES':54140.440000, 'COMPUTER EQUIPMENT':496201.100000, 'DEBT SERVICE':626.450000, 'EQUIPMENT RENTAL & LEASES':51659.850000, 'FUEL & UTILITIES':1741.510000, 'HOUSEKEEP & JANITOR SERVICES':230309.540000, 'MISCELLANEOUS EXPENSES':80332.080000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':29432.010000, 'OTHER EQUIPMENT':59128.000000, 'PROFESSIONAL DEVELOPMENT':138889.420000, 'PROFESSIONAL SERVICES':896158.020000, 'PROGRAM DISTRIBUTIONS':0, 'PROPERTY & IMPROVEMENTS':18321.350000, 'REPAIR & MAINTENANCE SERVICES':234924.420000, 'SUPPLIES':1468139.560000, 'TRAVEL':2095539.210000}},
{State:'MENTAL HEALTH',freq:{'BUILDING LEASE PAYMENTS':1201197.620000, 'COMMUNICATION SERVICE & SUPPLIES':185301.600000, 'COMPUTER EQUIPMENT':43679.110000, 'DEBT SERVICE':1127.640000, 'EQUIPMENT RENTAL & LEASES':358384.740000, 'FUEL & UTILITIES':193495.500000, 'HOUSEKEEP & JANITOR SERVICES':587684.070000, 'MISCELLANEOUS EXPENSES':629248.440000, 'MOTORIZED EQUIPMENT':108975.750000, 'OFFICE EQUIPMENT':118234.170000, 'OTHER EQUIPMENT':878090.580000, 'PROFESSIONAL DEVELOPMENT':509622.830000, 'PROFESSIONAL SERVICES':43142100.610000, 'PROGRAM DISTRIBUTIONS':853147810.520000, 'PROPERTY & IMPROVEMENTS':7507720.450000, 'REPAIR & MAINTENANCE SERVICES':932737.100000, 'SUPPLIES':21347251.320000, 'TRAVEL':787496.700000}},
{State:'NATURAL RESOURCES',freq:{'BUILDING LEASE PAYMENTS':1347996.440000, 'COMMUNICATION SERVICE & SUPPLIES':150220.410000, 'COMPUTER EQUIPMENT':278455.620000, 'DEBT SERVICE':3069.350000, 'EQUIPMENT RENTAL & LEASES':141751.030000, 'FUEL & UTILITIES':1753194.490000, 'HOUSEKEEP & JANITOR SERVICES':413072.610000, 'MISCELLANEOUS EXPENSES':1194221.200000, 'MOTORIZED EQUIPMENT':743290.590000, 'OFFICE EQUIPMENT':50223.910000, 'OTHER EQUIPMENT':1154184.760000, 'PROFESSIONAL DEVELOPMENT':450018.780000, 'PROFESSIONAL SERVICES':17243655.000000, 'PROGRAM DISTRIBUTIONS':294691011.370000, 'PROPERTY & IMPROVEMENTS':3708041.070000, 'REPAIR & MAINTENANCE SERVICES':769326.820000, 'SUPPLIES':4210074.750000, 'TRAVEL':922997.790000}},
{State:'OFFICE OF ADMINISTRATION',freq:{'BUILDING LEASE PAYMENTS':828645.060000, 'COMMUNICATION SERVICE & SUPPLIES':26597536.430000, 'COMPUTER EQUIPMENT':26208421.030000, 'DEBT SERVICE':137637821.690000, 'EQUIPMENT RENTAL & LEASES':10798013.270000, 'FUEL & UTILITIES':47701711.270000, 'HOUSEKEEP & JANITOR SERVICES':3438971.140000, 'MISCELLANEOUS EXPENSES':3280909.620000, 'MOTORIZED EQUIPMENT':223558.450000, 'OFFICE EQUIPMENT':2059948.740000, 'OTHER EQUIPMENT':1834735.020000, 'PROFESSIONAL DEVELOPMENT':194461.970000, 'PROFESSIONAL SERVICES':54006645.540000, 'PROGRAM DISTRIBUTIONS':34866641.050000, 'PROPERTY & IMPROVEMENTS':13561874.920000, 'REPAIR & MAINTENANCE SERVICES':22931180.840000, 'SUPPLIES':17027335.220000, 'TRAVEL':299929.680000}},
{State:'OFFICE OF ATTORNEY GENERAL',freq:{'BUILDING LEASE PAYMENTS':724499.950000, 'COMMUNICATION SERVICE & SUPPLIES':8526.390000, 'COMPUTER EQUIPMENT':575774.920000, 'DEBT SERVICE':1747.380000, 'EQUIPMENT RENTAL & LEASES':164045.110000, 'FUEL & UTILITIES':22547.120000, 'HOUSEKEEP & JANITOR SERVICES':24700.870000, 'MISCELLANEOUS EXPENSES':645243.440000, 'MOTORIZED EQUIPMENT':91566.520000, 'OFFICE EQUIPMENT':124584.900000, 'OTHER EQUIPMENT':23350.300000, 'PROFESSIONAL DEVELOPMENT':165331.260000, 'PROFESSIONAL SERVICES':1562648.510000, 'PROGRAM DISTRIBUTIONS':350408.220000, 'PROPERTY & IMPROVEMENTS':46264.830000, 'REPAIR & MAINTENANCE SERVICES':259140.650000, 'SUPPLIES':919079.280000, 'TRAVEL':532351.770000}},
{State:'OFFICE OF GOVERNOR',freq:{'BUILDING LEASE PAYMENTS':831.500000, 'COMMUNICATION SERVICE & SUPPLIES':101.940000, 'COMPUTER EQUIPMENT':0, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':8538.010000, 'FUEL & UTILITIES':0, 'HOUSEKEEP & JANITOR SERVICES':113673.250000, 'MISCELLANEOUS EXPENSES':62025.800000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':197.900000, 'OTHER EQUIPMENT':0, 'PROFESSIONAL DEVELOPMENT':8773.000000, 'PROFESSIONAL SERVICES':25206.070000, 'PROGRAM DISTRIBUTIONS':0, 'PROPERTY & IMPROVEMENTS':0, 'REPAIR & MAINTENANCE SERVICES':2466.450000, 'SUPPLIES':269567.460000, 'TRAVEL':304881.890000}},
{State:'OFFICE OF LIEUTENANT GOVERNOR',freq:{'BUILDING LEASE PAYMENTS':0, 'COMMUNICATION SERVICE & SUPPLIES':2377.800000, 'COMPUTER EQUIPMENT':0, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':100.000000, 'FUEL & UTILITIES':0, 'HOUSEKEEP & JANITOR SERVICES':0, 'MISCELLANEOUS EXPENSES':2788.860000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':0, 'OTHER EQUIPMENT':0, 'PROFESSIONAL DEVELOPMENT':425.000000, 'PROFESSIONAL SERVICES':325.000000, 'PROGRAM DISTRIBUTIONS':0, 'PROPERTY & IMPROVEMENTS':0, 'REPAIR & MAINTENANCE SERVICES':399.300000, 'SUPPLIES':6065.810000, 'TRAVEL':4844.240000}},
{State:'OFFICE OF SECRETARY OF STATE',freq:{'BUILDING LEASE PAYMENTS':602068.500000, 'COMMUNICATION SERVICE & SUPPLIES':67190.050000, 'COMPUTER EQUIPMENT':2009452.290000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':6136.900000, 'FUEL & UTILITIES':58063.500000, 'HOUSEKEEP & JANITOR SERVICES':11882.490000, 'MISCELLANEOUS EXPENSES':20063.310000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':12058.880000, 'OTHER EQUIPMENT':6724.210000, 'PROFESSIONAL DEVELOPMENT':162728.470000, 'PROFESSIONAL SERVICES':6844302.280000, 'PROGRAM DISTRIBUTIONS':10884219.350000, 'PROPERTY & IMPROVEMENTS':0, 'REPAIR & MAINTENANCE SERVICES':1681604.280000, 'SUPPLIES':646124.250000, 'TRAVEL':97069.030000}},
{State:'OFFICE OF STATE AUDITOR',freq:{'BUILDING LEASE PAYMENTS':12823.920000, 'COMMUNICATION SERVICE & SUPPLIES':2749.240000, 'COMPUTER EQUIPMENT':135475.480000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':3791.440000, 'FUEL & UTILITIES':0, 'HOUSEKEEP & JANITOR SERVICES':0, 'MISCELLANEOUS EXPENSES':2580.660000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':0, 'OTHER EQUIPMENT':698.000000, 'PROFESSIONAL DEVELOPMENT':43201.220000, 'PROFESSIONAL SERVICES':462054.370000, 'PROGRAM DISTRIBUTIONS':0, 'PROPERTY & IMPROVEMENTS':0, 'REPAIR & MAINTENANCE SERVICES':31949.280000, 'SUPPLIES':41535.380000, 'TRAVEL':305882.870000}},
{State:'OFFICE OF STATE TREASURER',freq:{'BUILDING LEASE PAYMENTS':2401.500000, 'COMMUNICATION SERVICE & SUPPLIES':38985.040000, 'COMPUTER EQUIPMENT':43030.950000, 'DEBT SERVICE':327.180000, 'EQUIPMENT RENTAL & LEASES':16091.230000, 'FUEL & UTILITIES':0, 'HOUSEKEEP & JANITOR SERVICES':2040.000000, 'MISCELLANEOUS EXPENSES':268.470000, 'MOTORIZED EQUIPMENT':0, 'OFFICE EQUIPMENT':11280.350000, 'OTHER EQUIPMENT':0, 'PROFESSIONAL DEVELOPMENT':16371.000000, 'PROFESSIONAL SERVICES':867745.430000, 'PROGRAM DISTRIBUTIONS':0, 'PROPERTY & IMPROVEMENTS':0, 'REPAIR & MAINTENANCE SERVICES':62373.900000, 'SUPPLIES':210910.480000, 'TRAVEL':4924.940000}},
{State:'PUBLIC SAFETY',freq:{'BUILDING LEASE PAYMENTS':2535461.510000, 'COMMUNICATION SERVICE & SUPPLIES':1556243.990000, 'COMPUTER EQUIPMENT':8038853.000000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':1452364.600000, 'FUEL & UTILITIES':4567514.790000, 'HOUSEKEEP & JANITOR SERVICES':816173.820000, 'MISCELLANEOUS EXPENSES':7443917.410000, 'MOTORIZED EQUIPMENT':13614656.490000, 'OFFICE EQUIPMENT':262373.910000, 'OTHER EQUIPMENT':6819433.430000, 'PROFESSIONAL DEVELOPMENT':2730658.310000, 'PROFESSIONAL SERVICES':14129150.080000, 'PROGRAM DISTRIBUTIONS':142280866.860000, 'PROPERTY & IMPROVEMENTS':69073603.100000, 'REPAIR & MAINTENANCE SERVICES':6901709.650000, 'SUPPLIES':26301370.830000, 'TRAVEL':2231664.220000}},
{State:'REVENUE',freq:{'BUILDING LEASE PAYMENTS':852695.500000, 'COMMUNICATION SERVICE & SUPPLIES':3945830.960000, 'COMPUTER EQUIPMENT':1008329.020000, 'DEBT SERVICE':0, 'EQUIPMENT RENTAL & LEASES':1920125.330000, 'FUEL & UTILITIES':90675.510000, 'HOUSEKEEP & JANITOR SERVICES':90029.420000, 'MISCELLANEOUS EXPENSES':123740609.840000, 'MOTORIZED EQUIPMENT':133739.280000, 'OFFICE EQUIPMENT':201681.350000, 'OTHER EQUIPMENT':65688.830000, 'PROFESSIONAL DEVELOPMENT':379941.070000, 'PROFESSIONAL SERVICES':35591261.060000, 'PROGRAM DISTRIBUTIONS':200462670.910000, 'PROPERTY & IMPROVEMENTS':291625.690000, 'REPAIR & MAINTENANCE SERVICES':1560424.620000, 'SUPPLIES':8311052.910000, 'TRAVEL':345393.790000}},
{State:'SOCIAL SERVICES',freq:{'BUILDING LEASE PAYMENTS':11550282.520000, 'COMMUNICATION SERVICE & SUPPLIES':447924.740000, 'COMPUTER EQUIPMENT':2895.410000, 'DEBT SERVICE':84414.120000, 'EQUIPMENT RENTAL & LEASES':728019.740000, 'FUEL & UTILITIES':1827002.330000, 'HOUSEKEEP & JANITOR SERVICES':1142911.590000, 'MISCELLANEOUS EXPENSES':2751101.330000, 'MOTORIZED EQUIPMENT':233315.460000, 'OFFICE EQUIPMENT':97036.580000, 'OTHER EQUIPMENT':530715.310000, 'PROFESSIONAL DEVELOPMENT':499949.750000, 'PROFESSIONAL SERVICES':130697843.460000, 'PROGRAM DISTRIBUTIONS':7159125986.260000, 'PROPERTY & IMPROVEMENTS':1019235.730000, 'REPAIR & MAINTENANCE SERVICES':1842160.920000, 'SUPPLIES':12052035.650000, 'TRAVEL':3093430.690000}},
{State:'TRANSPORTATION',freq:{'BUILDING LEASE PAYMENTS':797782.610000, 'COMMUNICATION SERVICE & SUPPLIES':1491367.730000, 'COMPUTER EQUIPMENT':8758448.410000, 'DEBT SERVICE':307966949.880000, 'EQUIPMENT RENTAL & LEASES':12606986.400000, 'FUEL & UTILITIES':8716070.950000, 'HOUSEKEEP & JANITOR SERVICES':5760283.180000, 'MISCELLANEOUS EXPENSES':31826796.770000, 'MOTORIZED EQUIPMENT':15920853.720000, 'OFFICE EQUIPMENT':51288.360000, 'OTHER EQUIPMENT':8612708.050000, 'PROFESSIONAL DEVELOPMENT':1364781.690000, 'PROFESSIONAL SERVICES':52505543.650000, 'PROGRAM DISTRIBUTIONS':257276972.040000, 'PROPERTY & IMPROVEMENTS':1205262960.120000, 'REPAIR & MAINTENANCE SERVICES':13874497.590000, 'SUPPLIES':158944682.480000, 'TRAVEL':2138006.580000}}
];

dashboard('#dashboard',freqData);
</script>
</body>